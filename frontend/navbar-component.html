<!-- Navbar Component with Dropdown Integration -->
<link rel="stylesheet" href="./style/navbar-styles.css">
<link rel="stylesheet" href="./style/navbar-dropdown.css">

<!-- New Minimalist Navigation Bar -->
<style>
    /* Navbar overrides: fixed to top and tighter height */
    .minimal-navbar { position: fixed !important; top: 0; left: 0; right: 0; padding: 8px 20px !important; z-index: 1001 !important; background: transparent !important; transition: opacity 200ms ease; }
    /* Hide navbar when sidebar is open (hamburger) so it doesn't cover slides */
    body.sidebar-open .minimal-navbar { opacity: 0; visibility: hidden; pointer-events: none; z-index: 0 !important; }
    @media (max-width: 768px) { .minimal-navbar { padding: 12px 18px !important; } .brand-logo { width: 120px !important; transform: translateX(6px) !important; } }
    @media (max-width: 480px) { .minimal-navbar { padding: 12px 16px !important; } .brand-logo { width: 108px !important; transform: translateX(4px) !important; } }
</style>

<nav class="minimal-navbar">
    <div class="navbar-left">
        <button class="hamburger-menu" id="hamburger-btn" aria-label="Menu">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>
        <button class="search-btn" aria-label="Search">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span class="search-text">SEARCH</span>
        </button>
    </div>
    <div class="navbar-center">
        <a href="/" class="brand-logo">
            <img src="./frontend/public/logo.png" alt="ETLALA" style="width: 100%; height: auto;" />
        </a>
    </div>
    <div class="navbar-right">
        <a href="/login" class="nav-link">LOGIN / SIGN UP</a>
        <a href="/account" class="account-icon" aria-label="Account">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
                <path d="M5 20C5 16.134 8.134 13 12 13C15.866 13 19 16.134 19 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </a>
        <a href="/cart" class="cart-link">
            <span class="cart-text">CART</span>
            <span class="cart-badge">0</span>
        </a>
    </div>
</nav>

<!-- Navbar Dropdown Card Component -->
<div class="navbar-dropdown-overlay"></div>

<!-- Cart Dropdown -->
<div class="navbar-dropdown cart-dropdown" id="cart-dropdown">
    <div class="dropdown-header">
        <h3 class="dropdown-title">Shopping Cart</h3>
        <button class="dropdown-close" data-dropdown="cart">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>
    </div>
    
    <div class="dropdown-body">
        <div class="cart-items" id="cart-items">
            <!-- Cart items will be inserted here dynamically -->
        </div>
        
        <div class="cart-empty" id="cart-empty">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 2L7.17 4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H21C22.1 20 23 19.1 23 18V6C23 4.9 22.1 4 21 4H16.83L15 2H9Z" stroke="#6E8B72" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <p>Your cart is empty</p>
            <a href="/products.html" class="shop-now-btn">Shop Now</a>
        </div>
    </div>
    
    <div class="dropdown-footer" id="cart-footer">
        <div class="cart-total">
            <span class="total-label">Subtotal:</span>
            <span class="total-amount" id="cart-total">$0.00</span>
        </div>
        <div class="cart-actions">
            <a href="/cart.html" class="btn-view-cart">View Cart</a>
            <a href="/checkout.html" class="btn-checkout">Checkout</a>
        </div>
    </div>
</div>

<!-- Search Dropdown -->
<div class="navbar-dropdown search-dropdown" id="search-dropdown">
    <div class="dropdown-header">
        <h3 class="dropdown-title">Search Products</h3>
        <button class="dropdown-close" data-dropdown="search">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>
    </div>
    
    <div class="dropdown-body">
        <div class="search-input-wrapper">
            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <input type="text" class="search-input-field" id="navbar-search-input" placeholder="Search for products...">
        </div>
        
        <div class="search-results" id="search-results">
            <!-- Search results will be inserted here -->
        </div>
        
        <div class="search-empty" id="search-empty">
            <p>Start typing to search products</p>
        </div>
        
        <div class="popular-searches">
            <h4 class="popular-title">Popular Searches</h4>
            <div class="popular-tags">
                <button class="popular-tag" data-search="serum">Serum</button>
                <button class="popular-tag" data-search="moisturizer">Moisturizer</button>
                <button class="popular-tag" data-search="cleanser">Cleanser</button>
                <button class="popular-tag" data-search="sunscreen">Sunscreen</button>
                <button class="popular-tag" data-search="mask">Face Mask</button>
            </div>
        </div>
    </div>
</div>

<!-- Account Dropdown -->
<div class="navbar-dropdown account-dropdown" id="account-dropdown">
    <div class="dropdown-header">
        <h3 class="dropdown-title">My Account</h3>
        <button class="dropdown-close" data-dropdown="account">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>
    </div>
    
    <div class="dropdown-body">
        <div class="account-menu">
            <a href="/account/profile.html" class="account-menu-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
                    <path d="M5 20C5 16.134 8.134 13 12 13C15.866 13 19 16.134 19 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>My Profile</span>
            </a>
            
            <a href="/account/orders.html" class="account-menu-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 3V6M15 3V6M3 9H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>My Orders</span>
            </a>
            
            <a href="/account/wishlist.html" class="account-menu-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Wishlist</span>
            </a>
            
            <a href="/account/addresses.html" class="account-menu-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 17L12 22L22 17M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Addresses</span>
            </a>
            
            <a href="/account/settings.html" class="account-menu-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 1V3M12 21V23M4.22 4.22L5.64 5.64M18.36 18.36L19.78 19.78M1 12H3M21 12H23M4.22 19.78L5.64 18.36M18.36 5.64L19.78 4.22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>Settings</span>
            </a>
            
            <div class="account-divider"></div>
            
            <button class="account-menu-item logout-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9M16 17L21 12M21 12L16 7M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Logout</span>
            </button>
        </div>
    </div>
</div>

<!-- Link Dropdown JavaScript -->
<script src="./frontend/src/navbar-dropdown.js"></script>
